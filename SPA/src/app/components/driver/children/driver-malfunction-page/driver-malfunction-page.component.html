<div class="d-flex flex-row w-100 admin-container">
  <div class="w-100 d-flex justify-content-center align-items-center flex-column">

    <form [formGroup]="malfunctionForm">
      <div class="form-group mt-2 mb-2">
        <label>Registrcijski broj vozila: </label>
        <select class="form-control-admin" [(ngModel)]="malfunctionModel.vehicleId"
          [ngModelOptions]="{standalone: true}">
          <option *ngFor="let vehicle of vehicles; let i=index" [value]="vehicle.id">
            {{vehicle.registrationNumber}}
          </option>
        </select>
      </div>

      <div class="form-group">
        <label>Opis kvara:</label>
        <textarea class="form-control-admin mb-3" rows="3"
          formControlName="description" [(ngModel)]="malfunctionModel.description"
          [class.is-invalid]="malfunctionForm.get('description')?.invalid && (malfunctionForm.get('description')?.dirty
            || malfunctionForm.get('description')?.touched)">
        </textarea>
        <div class="invalid-feedback">
          Obavezan unos!
        </div>
      </div>

      <div class="row">
        <div class="col">
          <div class="form-group">
            <label>Datum i vrijeme kvara: </label>
            <div class="input-group">
              <input class="form-control-admin" readonly [value]="malfunctionModel.dateOfMalufunction | date:'dd/MM/yyyy HH:mm:ss'" />
            </div>
          </div>
        </div>

        <div class="col" class="mt-3">
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox"
              [(ngModel)]="malfunctionModel.fixed" [ngModelOptions]="{standalone: true}">
            <label class="form-check-label">Otklonjen kvar</label>
          </div>
        </div>
      </div>

      <button type="button" class="btn btn-dark admin-button" (click)="addMalfunction()">Prijavi kvar</button>
    </form>
  </div>
</div>
